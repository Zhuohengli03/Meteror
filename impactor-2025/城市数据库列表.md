# 📍 城市数据库列表

## 总览

**当前数据库**: 备用城市数据库（FALLBACK_CITIES）  
**总城市数**: 50 个  
**覆盖范围**: 全球 6 大洲  

---

## 🌍 北美洲 (15个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 墨西哥城 (Mexico City) | 墨西哥 | 920万 | 19.43°N, 99.13°W |
| 纽约 (New York) | 美国 | 834万 | 40.71°N, 74.01°W |
| 洛杉矶 (Los Angeles) | 美国 | 397万 | 34.05°N, 118.24°W |
| 多伦多 (Toronto) | 加拿大 | 293万 | 43.65°N, 79.38°W |
| 芝加哥 (Chicago) | 美国 | 269万 | 41.88°N, 87.63°W |
| 休斯顿 (Houston) | 美国 | 232万 | 29.76°N, 95.37°W |
| 蒙特利尔 (Montreal) | 加拿大 | 178万 | 45.50°N, 73.57°W |
| 凤凰城 (Phoenix) | 美国 | 168万 | 33.45°N, 112.07°W |
| 费城 (Philadelphia) | 美国 | 158万 | 39.95°N, 75.17°W |
| 圣安东尼奥 (San Antonio) | 美国 | 155万 | 29.42°N, 98.49°W |
| 瓜达拉哈拉 (Guadalajara) | 墨西哥 | 150万 | 20.66°N, 103.35°W |
| 圣地亚哥 (San Diego) | 美国 | 142万 | 32.72°N, 117.16°W |
| 达拉斯 (Dallas) | 美国 | 134万 | 32.78°N, 96.80°W |
| 圣何塞 (San Jose) | 美国 | 102万 | 37.34°N, 121.89°W |
| 温哥华 (Vancouver) | 加拿大 | 68万 | 49.28°N, 123.12°W |

---

## 🇪🇺 欧洲 (9个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 莫斯科 (Moscow) | 俄罗斯 | 1262万 | 55.76°N, 37.62°E |
| 伦敦 (London) | 英国 | 898万 | 51.51°N, 0.13°W |
| 柏林 (Berlin) | 德国 | 377万 | 52.52°N, 13.41°E |
| 马德里 (Madrid) | 西班牙 | 322万 | 40.42°N, 3.70°W |
| 罗马 (Rome) | 意大利 | 287万 | 41.90°N, 12.50°E |
| 巴黎 (Paris) | 法国 | 216万 | 48.86°N, 2.35°E |
| 巴塞罗那 (Barcelona) | 西班牙 | 162万 | 41.39°N, 2.17°E |
| 慕尼黑 (Munich) | 德国 | 147万 | 48.14°N, 11.58°E |
| 米兰 (Milan) | 意大利 | 137万 | 45.46°N, 9.19°E |

---

## 🇨🇳 亚洲 (11个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 德里 (Delhi) | 印度 | 3294万 | 28.70°N, 77.10°E |
| 上海 (Shanghai) | 中国 | 2487万 | 31.23°N, 121.47°E |
| 北京 (Beijing) | 中国 | 2154万 | 39.90°N, 116.41°E |
| 广州 (Guangzhou) | 中国 | 1404万 | 23.13°N, 113.26°E |
| 东京 (Tokyo) | 日本 | 1393万 | 35.68°N, 139.65°E |
| 孟买 (Mumbai) | 印度 | 1248万 | 19.08°N, 72.88°E |
| 深圳 (Shenzhen) | 中国 | 1236万 | 22.54°N, 114.06°E |
| 曼谷 (Bangkok) | 泰国 | 1054万 | 13.76°N, 100.50°E |
| 首尔 (Seoul) | 韩国 | 972万 | 37.57°N, 126.98°E |
| 香港 (Hong Kong) | 中国 | 750万 | 22.32°N, 114.17°E |
| 新加坡 (Singapore) | 新加坡 | 569万 | 1.35°N, 103.82°E |

---

## 🌍 非洲 (5个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 开罗 (Cairo) | 埃及 | 2048万 | 30.04°N, 31.24°E |
| 拉各斯 (Lagos) | 尼日利亚 | 1539万 | 6.52°N, 3.38°E |
| 金沙萨 (Kinshasa) | 刚果民主共和国 | 1434万 | 4.44°S, 15.27°E |
| 约翰内斯堡 (Johannesburg) | 南非 | 563万 | 26.20°S, 28.05°E |
| 内罗毕 (Nairobi) | 肯尼亚 | 440万 | 1.29°S, 36.82°E |

---

## 🌎 南美洲 (5个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 圣保罗 (São Paulo) | 巴西 | 1233万 | 23.55°S, 46.63°W |
| 利马 (Lima) | 秘鲁 | 1075万 | 12.05°S, 77.04°W |
| 波哥大 (Bogotá) | 哥伦比亚 | 1070万 | 4.71°N, 74.07°W |
| 里约热内卢 (Rio de Janeiro) | 巴西 | 675万 | 22.91°S, 43.17°W |
| 布宜诺斯艾利斯 (Buenos Aires) | 阿根廷 | 308万 | 34.61°S, 58.40°W |

---

## 🇦🇺 大洋洲 (5个城市)

| 城市 | 国家 | 人口 | 坐标 |
|------|------|------|------|
| 悉尼 (Sydney) | 澳大利亚 | 531万 | 33.87°S, 151.21°E |
| 墨尔本 (Melbourne) | 澳大利亚 | 508万 | 37.81°S, 144.96°E |
| 布里斯班 (Brisbane) | 澳大利亚 | 251万 | 27.47°S, 153.03°E |
| 珀斯 (Perth) | 澳大利亚 | 209万 | 31.95°S, 115.86°E |
| 奥克兰 (Auckland) | 新西兰 | 166万 | 36.85°S, 174.76°E |

---

## 📊 统计信息

### 按地区分布

| 地区 | 城市数 | 占比 |
|------|--------|------|
| 北美洲 | 15 | 30% |
| 亚洲 | 11 | 22% |
| 欧洲 | 9 | 18% |
| 非洲 | 5 | 10% |
| 南美洲 | 5 | 10% |
| 大洋洲 | 5 | 10% |

### 按国家分布（前10）

| 国家 | 城市数 |
|------|--------|
| 🇺🇸 美国 | 10 |
| 🇨🇳 中国 | 5 |
| 🇦🇺 澳大利亚 | 4 |
| 🇨🇦 加拿大 | 3 |
| 🇲🇽 墨西哥 | 2 |
| 🇩🇪 德国 | 2 |
| 🇪🇸 西班牙 | 2 |
| 🇮🇹 意大利 | 2 |
| 🇮🇳 印度 | 2 |
| 🇧🇷 巴西 | 2 |

### 按人口规模

| 规模 | 城市数 |
|------|--------|
| 超大城市 (>2000万) | 5 |
| 特大城市 (1000-2000万) | 12 |
| 大城市 (500-1000万) | 10 |
| 中等城市 (200-500万) | 11 |
| 较小城市 (<200万) | 12 |

---

## ❓ 常见问题

### Q: 为什么我的城市不在列表中？

**A**: 备用数据库只包含 50 个全球主要城市。要获取更多城市数据：

1. **配置 GeoNames API**（推荐）
   - 注册: https://www.geonames.org/login
   - 启用 Web Services
   - 在 `.env` 中设置 `GEONAMES_USERNAME`
   - 可以查询全球 1100万+ 地理位置

2. **手动添加城市**
   - 编辑 `backend/app/services/geonames_client.py`
   - 在 `FALLBACK_CITIES` 列表中添加

### Q: 如何查看某个城市是否在数据库中？

**A**: 运行以下命令：

```bash
cd backend
python3 -c "
from app.services.geonames_client import FALLBACK_CITIES
city_name = '北京'  # 替换为你的城市
cities = [c for c in FALLBACK_CITIES if city_name.lower() in c['name'].lower()]
if cities:
    for c in cities:
        print(f\"✅ 找到: {c['name']}, {c['country']} - {c['population']:,}人\")
else:
    print(f\"❌ 未找到: {city_name}\")
"
```

### Q: 人口数据准确吗？

**A**: 数据来源于以下渠道：
- GeoNames 官方数据
- 各国统计局
- 联合国人口数据
- 更新时间: 2023-2024

数据可能与最新统计有差异，建议配置 GeoNames API 获取最新数据。

---

## 🔄 如何获取更多城市

### 方法 1: 使用 GeoNames API（推荐）

配置后可以查询任意城市：

```bash
# 在 .env 中配置
GEONAMES_USERNAME=your_username

# 重启后端
# 现在可以查询任意城市，包括：
# - 天津、成都、重庆、武汉、西安...
# - 法兰克福、阿姆斯特丹、布鲁塞尔...
# - 西雅图、波士顿、迈阿密...
# - 等等
```

### 方法 2: 手动扩展数据库

编辑 `backend/app/services/geonames_client.py`:

```python
FALLBACK_CITIES = [
    # 现有城市...
    
    # 添加新城市
    {"name": "天津", "country": "China", 
     "latitude": 39.1422, "longitude": 117.1767, 
     "population": 15621000, "gdp_per_capita": 15000},
    
    {"name": "成都", "country": "China", 
     "latitude": 30.5728, "longitude": 104.0668, 
     "population": 20937757, "gdp_per_capita": 15000},
    
    # 更多城市...
]
```

---

## 📚 相关文档

- `使用指南.md` - 如何配置 GeoNames API
- `docs/geonames-setup.md` - GeoNames 详细设置
- `UPDATES_SUMMARY.md` - 技术更新说明

---

**数据来源**: GeoNames, 各国统计局, 联合国  
**更新时间**: 2025-10-05  
**数据库版本**: v1.0
